{% extends 'base.html' %}

{% block title %}Funcionários{% endblock %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3">Funcionários</h1>
    <div class="d-flex align-items-center gap-2">
      <a href="{% url 'funcionarios:funcionario_create' %}" class="btn btn-primary btn-sm">Novo Funcionário</a>
      <a href="{% url 'funcionarios:apontamento_list' %}" class="btn btn-outline-primary btn-sm d-flex align-items-center gap-1">
        <!-- clipboard icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal-text" viewBox="0 0 16 16" aria-hidden="true">
          <path d="M5 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5V3h1a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h1v-.5z"/>
          <path d="M3 4h10v1H3V4zm0 2h10v1H3V6zm0 2h10v1H3V8z"/>
        </svg>
        <span>Apontamentos</span>
      </a>
      <a href="{% url 'funcionarios:fechamento_list' %}" class="btn btn-outline-secondary btn-sm d-flex align-items-center gap-1">
        <!-- calendar icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-check" viewBox="0 0 16 16" aria-hidden="true">
          <path d="M10.854 6.146a.5.5 0 0 0-.708-.708L7.5 8.086 6.354 6.94a.5.5 0 1 0-.708.707l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
          <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h.5A1.5 1.5 0 0 1 15 2.5v11A1.5 1.5 0 0 1 13.5 15h-11A1.5 1.5 0 0 1 1 13.5v-11A1.5 1.5 0 0 1 2.5 1H3V.5a.5.5 0 0 1 .5-.5zM2 4v9.5a.5.5 0 0 0 .5.5H13.5a.5.5 0 0 0 .5-.5V4H2z"/>
        </svg>
        <span>Fechamentos</span>
      </a>
    </div>
  </div>

  <div class="row g-3">
    {% for f in funcionarios %}
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ f.nome_completo }}</h5>
            <p class="card-text small text-muted">{{ f.get_funcao_display }} • CPF: {{ f.cpf }}</p>
            <div class="mt-auto d-flex gap-2">
              <a href="{% url 'funcionarios:funcionario_detail' f.pk %}" class="btn btn-sm btn-outline-primary">Ver</a>
              <a href="{% url 'funcionarios:funcionario_update' f.pk %}" class="btn btn-sm btn-outline-secondary">Editar</a>
            </div>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12">
        <div class="alert alert-info">Nenhum funcionário encontrado.</div>
      </div>
    {% endfor %}
  </div>

{% endblock %}
